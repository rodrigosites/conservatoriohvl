<h1>Lista de Matrículas</h1>

<table class="table">
  <thead>
    <tr>
      <th>Aluno</th>
      <th>Curso</th>
      <th>Professor</th>
      <th>Horário</th>
      <th>Semestre</th>
      <th>Valor Mensal</th>
      <th>Data da Matrícula</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @matriculas.each do |matricula| %>
      <tr>
        <td><%= matricula.aluno.nome %></td>
        <td><%= matricula.curso.nome %></td>
        <td><%= matricula.horario.professor.nome %></td>
        <td><%= matricula.horario.horario.to_s.slice(10..15) %></td>
        <td><%= matricula.semestre %></td>
        <td><%= matricula.valor_mensal %></td>
        <td><%= matricula.data_matricula.to_s.slice(0..9).to_date.to_formatted_s(:rfc822) %></td>
        <td><%= link_to 'Mostrar Perfil', matricula %></td>
        <td><%= link_to 'Editar Perfil', edit_matricula_path(matricula) %></td>
        <td><%= link_to 'Excluir', matricula, method: :delete, data: { confirm: "Tem certeza que deseja excluir a matricula do aluno #{matricula.aluno.nome}?" } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<b>Total de matrículas cadastradas: <%= @matriculas.size %></b>

<br /><br />

<%= link_to 'Cadastrar Nova Matrícula', new_matricula_path %>
